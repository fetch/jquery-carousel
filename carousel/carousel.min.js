/*!
 * Copyright (c) 2012 Fetch! http://www.fetch.nl
 *
 * This file is generated by `cake build`, do not edit it by hand.
 */
(function(){var a;$.fn.extend({carousel:function(b){return $(this).each(function(){var c;return(c=$(this).data("carousel-instance"))?typeof c[b]=="function"?c[b]():c[b]:new a(this,b)})}}),a=function(){function a(a,b){this.options=$.extend({},{play:!1,speed:5e3,direction:"horizontal"},b),this.index=0,this.instance=$(a),this.instance.data("carousel-instance",this),this.settings={width:this.instance.width(),height:this.instance.height()},this.slides=$(".slide",this.instance),this.bullets=$(".controls .bullet",this.instance),this.options.direction==="horizontal"?$(".slide,.frame",this.instance).width(this.instance.outerWidth()):$(".slide,.frame",this.instance).height(this.instance.outerHeight()),this.bindEvents(),this.goToSlide(0),this.options.play&&this.play()}return a.name="Carousel",a.prototype.bindEvents=function(){var a=this;return this.bullets.click(function(b){var c;return b.preventDefault(),c=$(b.currentTarget),a.goToSlide(c.index())})},a.prototype.nextSlide=function(){return this.index+1>=this.slides.length?this.goToSlide(0):this.goToSlide(this.index+1)},a.prototype.prevSlide=function(){return this.index-1<0?this.goToSlide(this.slides.length):this.goToSlide(this.index-1)},a.prototype.goToSlide=function(a){this.index=a,this.bullets.length&&(this.bullets.removeClass("current"),this.bullets.eq(this.index).addClass("current")),this.slides.removeClass("current"),this.slides.eq(this.index).addClass("current"),this.options.direction==="horizontal"?$(".slides",this.instance).animate({marginLeft:-(this.index*this.settings.width)}):$(".slides",this.instance).animate({marginTop:-(this.index*this.settings.height)});if(this.options.play)return this.play()},a.prototype.play=function(){var a=this;return this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){return a.nextSlide()},this.options.speed)},a.prototype.stop=function(){this.options.play=!1;if(this.timeout)return clearTimeout(this.timeout)},a}()}).call(this)